<!DOCTYPE html>
<html>
<head>
    <title>Сборка Меха</title>
</head>
<body>
    <h2>Сборка Меха</h2>
    <form method="post">
        <label for="body">Выберите корпус:</label>
        <select name="body" id="body">
            {% for key, value in bodies.items() %}
                <option value="{{ key }}">{{ key.capitalize() }}</option>
            {% endfor %}
        </select>

        <label for="engine">Выберите двигатель:</label>
        <select name="engine" id="engine">
            {% for key, value in engines.items() %}
                <option value="{{ key }}">{{ key.capitalize() }}</option>
            {% endfor %}
        </select>

        <label for="weapon">Выберите оружие:</label>
        <select name="weapon" id="weapon">
            {% for key, value in weapons.items() %}
                <option value="{{ key }}">{{ key.capitalize() }}</option>
            {% endfor %}
        </select>

        <label for="reactor">Выберите реактор:</label>
        <select name="reactor" id="reactor">
            {% for key, value in reactors.items() %}
                <option value="{{ key }}">{{ key.capitalize() }}</option>
            {% endfor %}
        </select>

        <label for="armor">Выберите броню:</label>
        <select name="armor" id="armor">
            {% for key, value in armors.items() %}
                <option value="{{ key }}">{{ key.capitalize() }}</option>
            {% endfor %}
        </select>

        <label for="shield">Выберите щит:</label>
        <select name="shield" id="shield">
            {% for key, value in shields.items() %}
                <option value="{{ key }}">{{ key.capitalize() }}</option>
            {% endfor %}
        </select>

        <label for="module">Выберите модуль:</label>
        <select name="module" id="module">
            {% for key, value in modules.items() %}
                <option value="{{ key }}">{{ key.capitalize() }}</option>
            {% endfor %}
        </select>

        <input type="submit" value="Собрать">
    </form>

    {% if result %}
        {% if result.error %}
            <h3>Ошибка: {{ result.error }}</h3>
        {% else %}
            <h3>Итоговые параметры меха:</h3>
            <p>HP: {{ result.hp }}</p>
            <p>Прочность: {{ result.durability }}</p>
            <p>Вес: {{ result.weight }}</p>
            <p>Скорость: {{ result.speed }}</p>
            <p>Урон: {{ result.damage }}</p>
            <p>Щит: {{ result.shield }}</p>
            <p>Баланс энергии: {{ result.energy_balance }}</p>
        {% endif %}
    {% endif %}
</body>
</html>
